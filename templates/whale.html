<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Whale</title>

        <!-- Harpoon -->
        <link href="/static/css/reset.css" type="text/css" rel="stylesheet"/>
        <link href="/static/css/hp.css" type="text/css" rel="stylesheet"/>

        {#<script src="/js/hp/math.js" type="text/javascript"></script>#}
        {#<script src="/js/hp/net.js" type="text/javascript"></script>#}
        {#<script src="/js/hp/audio.js" type="text/javascript"></script>#}
        {#<script src="/js/hp/events.js" type="text/javascript"></script>#}
        {#<script src="/js/hp/assets.js" type="text/javascript"></script>#}
        {#<script src="/js/hp/render.js" type="text/javascript"></script>#}
        {#<script src="/js/hp/page.js" type="text/javascript"></script>#}
        {#<script src="/js/hp/hp.js" type="text/javascript"></script>#}

        <!-- JQuery: -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"
                integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
                crossorigin="anonymous"></script>

        <!-- Harpoon: -->
        <script src="/js/hp.js" type="text/javascript"></script>

        <script type="text/javascript">
            // Setting critical instance properties in the server when starting the game:
            Hp.userId = {{ current_user.id or 0 }};
            Hp.gameId = "{{ game_id }}";
            Hp.roomId = "{{ room_id }}";
            Hp.playerId = {{ player_id }};

            console.log(Hp.userId);

            if (Hp._dbg) {
                console.log("Game ID:   '" + Hp.gameId + "'");
                console.log("Room ID:   '" + Hp.roomId + "'");
                console.log("Player ID: '" + Hp.playerId + "'");
            }
        </script>

        <!-- css -->
        <style>

            /*resize text to keep within tile*/
            body{
                font-size: 1.5vw;
            }
        </style>

        <!-- Whale -->
        <link href="/css/whale.css" type="text/css" rel="stylesheet"/>
        <script src="/js/whale.js" type="text/javascript"></script>
    </head>
    <body>

    <div id="whale-canvas-container">
            <canvas id="whale-canvas">
                Your browser must support the HTML5 canvas element to play Whale.<br/>
                Please try upgrading your browser or using a newer one.
            </canvas>
        </div>
    <nav class="navbar" id="nav" style="float: right; z-index: 5;margin:0;padding-bottom: 10px">

        <a href="{{ url_for('flask_app.index') }}" class="navbar-item"> Home
            <!--                {% if current_user.is_authenticated %}: {{ name }} {% endif %}-->
        </a>

        {% if current_user.is_authenticated %}
        <a href="{{ url_for('flask_app.profile') }}" class="navbar-item"> Profile </a>
        {% endif %}

        {% if not current_user.is_authenticated %}
        <a href="{{ url_for('flask_app.login') }}" class="navbar-item"> Login</a>
        {% endif %}

        {% if not current_user.is_authenticated %}
        <a href="{{ url_for('flask_app.signup') }}" class="navbar-item"> Sign Up</a>
        {% endif %}

        {% if current_user.is_authenticated %}
        <a href="{{ url_for('flask_app.logout') }}" class="navbar-item"> Logout</a>
        {% endif %}

        <a href="/whale" class="navbar-item"> Play Whale</a>


    </nav>

        <!-- Asset loading WIP -->
        <img id="mascot" src="/img/x3/mascot" class="asset offscreen"
             alt="A 'Whale' mascot image used in the game."/>
        <img id="water.waves" src="/img/x3/water.waves" class="asset offscreen"
             alt="An image of water used in the game."/>
        <img id="speech-bubble" src="/img/x3/speech-bubble" class="asset offscreen"
             alt="An image of a speech bubble used in the game."/>

        <a class="offscreen" id="whale-link" href="http://getwhaled.com/"></a>
    </body>
</html>
